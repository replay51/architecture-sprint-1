### **Задание 1.**

1. Предварительный анализ.
Приложение достаточно простое. Оно состоит из списка фотографий, профиля пользователя. 
Фотографии можно загружать, удалять и лайкать. Есть возможность регистрироваться и логиниться.
Цель перехода на микрофронтенды - ускорить разработку и повысить ее автономность.

2. Выделим 3 основные бизнес-функции: 
   - лента фотографий, 
   - профиль пользователя, 
   - регистрация и авторизация.

3. Интеграция микрофронтендов будет происходить в реалтайме. Модули можно развертывать независимо, приложение будет гибким для масштабирования.
Будем использовать клиентскую композицию. В приложении много интерактивного контента - действия с профилем и леной фотографий.

4. Фреймворк Module Federation. Т.к. в приложение уже используется webpack, то добавить этот фреймворк будет достаточно легко.
5. Для управления состоянием будем использовать паттерн Pub/Sub. 
Логика каждого приложения достаточно изолирована. Все необходимые данные приходят с сервера.
Есть необходимость передавать только несколько событий между приложениями: регистрацию и вход пользователя.

Итог:

Приложение разделено на 4 микрофронтенда.
1. [host](frontend/microfrontend/host)
Основной микрофронтенд. 
Отвечает за композицию других микрофронтендов. Сожержит в себе логику навигации.

    Компоненты:
   - Основная страница
   - Хедер
   - Футер
   - Модуль навигации
   - Всплывающее информационное окно

2. [auth](frontend/microfrontend/auth)
Микрофронтенд для авторизации и аутентификации.

    Компоненты:
    - Страница регистрации
    - Страница входа

3. [profile](frontend/microfrontend/profile)
Микрофронтенд профиля пользователя.
   
    Компоненты:
    - Блок профиля пользователя с аватаркой, именем и описанием
    - Форма редактирования профиля
    - Форма редактирования аватарки

4. [feed](frontend/microfrontend/feed)
Микрофронтенд с лентой фотографий.

    Компоненты:
    - Блок ленты фотографий
    - Форма просмотра фотографии
    - Форма добавления фотографии
    - Карточка фотографии с возможностью лайка и удаления

Для запуска всего приложения нужно в каждом микрфронтенде выполнить команду
`npm run start`


Упущения:
1. Компонент `PopupWithForm.js` дублирован в микрофронтендах `feed` и `profile`. Предположим, что это библиотечный компонент импортированный извне.
2. Микрофронтенды не обернуты в docker и docker-compose
3. В компоненте [MasterPage.js](frontend/microfrontend/host/src/components/MasterPage.js) дублируется вызов `React.useEffect` из-за чего уходят лишние запросы на бек.
4. [EventBus.js](frontend/microfrontend/host/src/utils/EventBus.js) прокидывается в другие микросервисы как свойство. В идеале вынести его в отдельный модуль и импортировать.


### **Задание 2.**

#### Разделение на компоненты и их описание.

   Из имеющейся схемы можно выделить следующие компоненты:

1. Сервис регистрации, авторизации и аутентификации
   - Обеспечивает регистрацию новых пользователей.
   - Выполняет проверку учетных данных для входа в систему.
   - Управляет сессиями и токенами безопасности.
   - Реализует аутентификацию.

2. Сервис профилей пользователей
   - Хранит и обрабатывает данные профилей пользователей.
   - Обеспечивает обновление персональных данных, таких как имя, адрес, контактная информация.
   - Реализует управление настройками и предпочтениями пользователя.
   
3. Сервис заказов
   - Управляет созданием, редактированием и удалением заказов.
   - Отслеживает статусы заказов (в ожидании, обработка, завершен).
   
4. Сервис нотификаций
   - Отправляет уведомления пользователям по разным каналам (email, push, SMS).
   - Уведомляет о статусе заказов, аукционах и платежах.
   - Поддерживает шаблоны сообщений и настройки частоты уведомлений.
   
5. Сервис управления аукционами
   - Управляет процессом создания и проведения аукционов.
   - Обрабатывает ставки участников.
   - Поддерживает завершение аукциона и уведомление победителей.
   
6. Сервис поиска
   - Реализует функции поиска по каталогу товаров, услуг или аукционов.
   - Поддерживает фильтрацию и сортировку результатов.
   - Интегрируется с другими сервисами для получения актуальной информации.
   
7. Сервис платежей
   - Инициирует и обрабатывает платежи.
   - Интегрируется с платежными шлюзами (банковскими системами, Яндекс.Pay, FastMoney, TurboPay и т.д.).
   - Управляет статусами транзакций и уведомляет об успешной оплате.
   
8. Сервис аппеляций и техподдержки
   - Обрабатывает запросы пользователей, связанные с проблемами и жалобами.
   - Управляет процессами рассмотрения апелляций.
   - Ведет журнал тикетов и отслеживает их выполнение.
   
9. Сервис отчетов
   - Генерирует аналитические отчеты на основе данных других сервисов.
   - Обеспечивает выгрузку данных в различных форматах.


Ссылка на draw.io
https://app.diagrams.net/#G1b6cPZfffKSaDo57Ncb8hwgzR604tkT-E#%7B%22pageId%22%3A%22BleSmaJVXqo2yb7Co1eL%22%7D

Тот же файл в репозитории: [arch_template_task2_done.drawio](arch_template_task2_done.drawio)